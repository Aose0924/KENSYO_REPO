# 第７回課題  
## どんな攻撃に対して脆弱か。どのような対策が取れそうか
### ①ALBにおけるアクセス制限
ALBのおける特定IPのみアクセス可能とするアクセス制限が必要。  
現状、ALBに紐づくセキュリティグループ設定では、80番ポートをすべて許可している。  
Web通信には80番ポートの開放が必須ではあるが、一般的にポートスキャンにて脆弱性をスキャンし情報漏洩やDDos攻撃などセキュリティ上のリスクがある。  
80番ポートを閉じることは現実的に難しいため、特定IPからのアクセスを許可する設定が現実的かと思う。  
### ②過剰なリクエストをブロック
AWS WAFにてリクエスト数が過剰な場合にブロック、制限が可能。  
具体的に以下いずれかの事象が発生した際に、システムへの攻撃がなされたと判断し対策が必要と考える。  
・メモリやCPUの使用率が90%以上を推移  
・システム公開時に定めたSLAに基づき、1リクエストに対するレスポンス速度がSLAに定められた速度を剥離    
対策としては、AWS WAFによるIPアドレスの制限、リクエスト閾値を設けて発信元のリクエスト数をカウントし閾値を超えた場合に対象IPアドレスをブロックする。  
### ③EC2インスタンスのIPアドレス情報の漏洩
課題提出のために、パブリックなGithub上にファイルをアップロードしているが、EC2インスタンスのIPアドレス情報が確認可能な状態となっている。  
EC2インスタンスの利用は有料であるため、検証などで使った後は停止させることが必須だが、検証中に外部からアクセス、踏み台にされる可能性も否めない。  
なので、直接接続を制限するため、22番ポートを特定IPアドレスのみ許可、制限することが必須。  